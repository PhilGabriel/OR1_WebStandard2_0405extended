window.whatInput=function(){"use strict";function d(){g(),m(event),n=!0,c=window.setTimeout(function(){n=!1},650)}function h(e){n||m(e)}function p(e){g(),m(e)}function g(){window.clearTimeout(c)}function m(e){var n=y(e),o=a[e.type];if("pointer"===o&&(o=x(e)),i!==o){var u=w(e),l=u.nodeName.toLowerCase(),c="input"===l?u.getAttribute("type"):null;!t.hasAttribute("data-whatinput-formtyping")&&i&&"keyboard"===o&&"tab"!==f[n]&&("textarea"===l||"select"===l||"input"===l&&r.indexOf(c)<0)||s.indexOf(n)>-1||v(o)}"keyboard"===o&&b(n)}function v(e){i=e,t.setAttribute("data-whatinput",i),-1===u.indexOf(i)&&u.push(i)}function y(e){return e.keyCode?e.keyCode:e.which}function w(e){return e.target||e.srcElement}function x(e){return"number"==typeof e.pointerType?l[e.pointerType]:"pen"===e.pointerType?"touch":e.pointerType}function b(t){-1===e.indexOf(f[t])&&f[t]&&e.push(f[t])}function C(t){var n=y(t),i=e.indexOf(f[n]);-1!==i&&e.splice(i,1)}function k(){t=document.body,window.PointerEvent?(t.addEventListener("pointerdown",h),t.addEventListener("pointermove",h)):window.MSPointerEvent?(t.addEventListener("MSPointerDown",h),t.addEventListener("MSPointerMove",h)):(t.addEventListener("mousedown",h),t.addEventListener("mousemove",h),"ontouchstart"in window&&t.addEventListener("touchstart",d)),t.addEventListener(o,h),t.addEventListener("keydown",p),t.addEventListener("keyup",p),document.addEventListener("keyup",C)}function T(){return o="onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll"}var t,e=[],n=!1,i=null,r=["button","checkbox","file","image","radio","reset","submit"],o=T(),s=[16,17,18,91,93],a={keydown:"keyboard",keyup:"keyboard",mousedown:"mouse",mousemove:"mouse",MSPointerDown:"pointer",MSPointerMove:"pointer",pointerdown:"pointer",pointermove:"pointer",touchstart:"touch"};a[T()]="mouse";var c,u=[],f={9:"tab",13:"enter",16:"shift",27:"esc",32:"space",37:"left",38:"up",39:"right",40:"down"},l={2:"touch",3:"touch",4:"mouse"};return"addEventListener"in window&&Array.prototype.indexOf&&(document.body?k():document.addEventListener("DOMContentLoaded",k)),{ask:function(){return i},keys:function(){return e},types:function(){return u},set:v}}();